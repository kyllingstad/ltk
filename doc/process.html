
<html><head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta content="text/javascript" http-equiv="content-script-type">
<title>ltk.process</title>
<link rel="stylesheet" type="text/css" href="candydoc/style.css">
<!--[if lt IE 7]><link rel="stylesheet" type="text/css" href="candydoc/ie56hack.css"><![endif]-->
<script language="JavaScript" src="candydoc/util.js" type="text/javascript"></script>
<script language="JavaScript" src="candydoc/tree.js" type="text/javascript"></script>
<script language="JavaScript" src="candydoc/explorer.js" type="text/javascript"></script>
</head><body>
<div id="tabarea"></div><div id="explorerclient"></div>
<div id="content"><script>explorer.initialize("ltk.process");</script>
	<table class="content">
		<tr><td id="docbody"><h1>ltk.process</h1><!-- Generated by Ddoc from ltk/process.d -->
Facilities for executing other processes. 
<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">struct 
<span class="currsymbol">Pid</span>
<script>explorer.outline.addDecl('Pid');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>A running process. 
<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">int 
<span class="currsymbol">pid</span>
<script>explorer.outline.addDecl('pid');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>The process ID. 
<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">File 
<span class="currsymbol">stdin</span>
<script>explorer.outline.addDecl('stdin');</script>

();
<br>File 
<span class="currsymbol">stdout</span>
<script>explorer.outline.addDecl('stdout');</script>

();
<br>File 
<span class="currsymbol">stderr</span>
<script>explorer.outline.addDecl('stderr');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>The standard input, output and error streams of the process,
        respectively. Stdin is opened for writing, while stdout and
        stderr are opened for reading.
<br><br>
Note that the corresponding ProcessOptions.redirectStdXXX
        option(s) must be passed to spawnProcess() for these streams
        to be valid. An exception will be thrown if one attempts to
        write to or read from an unredirected stream.
    
<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">int 
<span class="currsymbol">wait</span>
<script>explorer.outline.addDecl('wait');</script>

();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Wait for the spawned process to terminate.
        If the process terminates normally, this function returns
        its exit status.
        If the process is terminated by a signal, a
        ChildTerminatedException with the relevant signal number
        is thrown.
    
<br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">class 
<span class="currsymbol">ChildTerminatedException</span>
<script>explorer.outline.addDecl('ChildTerminatedException');</script>

: object.Exception;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Exception thrown if a process that is wait()ed for
    is terminated by a signal.
<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">immutable int 
<span class="currsymbol">pid</span>
<script>explorer.outline.addDecl('pid');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>The process ID of the terminated process. 
<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">immutable int 
<span class="currsymbol">signal</span>
<script>explorer.outline.addDecl('signal');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>The 
<span class="currsymbol">signal</span>
<script>explorer.outline.addDecl('signal');</script>

 that terminated the process. 
<br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">enum 
<span class="currsymbol">ProcessOptions</span>
<script>explorer.outline.addDecl('ProcessOptions');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Options that can be ORed together and passed to spawnProcess. 
<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">
<span class="currsymbol">redirectStdin</span>
<script>explorer.outline.addDecl('redirectStdin');</script>

<br>
<span class="currsymbol">redirectStdout</span>
<script>explorer.outline.addDecl('redirectStdout');</script>

<br>
<span class="currsymbol">redirectStderr</span>
<script>explorer.outline.addDecl('redirectStderr');</script>

</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Redirect the spawned process' standard input, output, and/or
        error streams so they can be written (stdin) or read (stdout,
        stderr) by the parent process. Use the Pid.stdXXX properties
        to get the file handles of the streams.
    
<br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">Pid 
<span class="currsymbol">spawnProcess</span>
<script>explorer.outline.addDecl('spawnProcess');</script>

(string <span class="funcparam">executable</span>, string[] <span class="funcparam">args</span> = null, ProcessOptions <span class="funcparam">options</span> = (ProcessOptions).none);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Spawn a new process.
    This function returns immediately, and the child process
    executes in parallel with its parent. To wait for the
    child process to finish, call Pid.wait().
<br><br>
<b>Example:</b><br>
<pre class="d_code">    <font color=blue>import</font> std.stdio, ltk.process;

    <font color=blue>void</font> main()
    {
        <font color=green>// The 'cat' program will echo everything we send to it.
</font>        <font color=blue>auto</font> pid = <u>spawnProcess</u>(<font color=red>"/bin/cat"</font>, <font color=blue>null</font>,
            ProcessOptions.redirectStdin | ProcessOptions.redirectStdout);

        <font color=blue>auto</font> pin = pid.stdin;
        <font color=blue>auto</font> pout = pid.stdout;

        <font color=green>// Read lines from the terminal and send them to cat,
</font>        <font color=green>// then read and print its response.
</font>        <font color=blue>do</font>
        {
            write(<font color=red>"&gt; "</font>);
            <font color=blue>auto</font> input = stdin.readln();
            pin.write(inp);
            pin.flush();

            <font color=blue>auto</font> output = pout.readln();
            write(<font color=red>"&lt; "</font>, output);
        } <font color=blue>while</font> (chomp(input) != <font color=red>"exit"</font>);
    }
</pre>
    <i>cat</i> will automatically exit when it has reached the end
    of its input stream. In the example above this happens when
    the user types "quit", because all files are closed when
    the main() function returns. This includes the pipes to the
    child process.
<br><br>

    In general it is a good idea
    to wait for all child processes to finish so they don't
    become 'zombies'. Consider the following example:
<pre class="d_code">    <font color=blue>import</font> ltk.process;

    <font color=blue>void</font> main(string[] <i>args</i>)
    {
        <font color=green>// Start two programs in parallel and wait for both to finish.
</font>        <font color=blue>assert</font> (<i>args</i>.length == 3);

        <font color=blue>auto</font> pid1 = <u>spawnProcess</u>(<i>args</i>[1]);
        <font color=blue>auto</font> pid2 = <u>spawnProcess</u>(<i>args</i>[2]);

        pid1.wait();
        pid2.wait();
    }
</pre>
<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">int 
<span class="currsymbol">execute</span>
<script>explorer.outline.addDecl('execute');</script>

(string <span class="funcparam">executable</span>, string[] <span class="funcparam">args</span> = null);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Convenience function for spawning a new process, waiting
    for it to finish, and returning its exit code.
<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">int 
<span class="currsymbol">shell</span>
<script>explorer.outline.addDecl('shell');</script>

(string <span class="funcparam">cmd</span>);
<br>int 
<span class="currsymbol">shell</span>
<script>explorer.outline.addDecl('shell');</script>

(string <span class="funcparam">cmd</span>, out string <span class="funcparam">output</span>);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Execute the given command in the user's default 
<span class="currsymbol">shell</span>
<script>explorer.outline.addDecl('shell');</script>

 (or
    '/bin/sh' if the default 
<span class="currsymbol">shell</span>
<script>explorer.outline.addDecl('shell');</script>

 can't be determined).
    This function blocks until the command returns, and returns
    the exit code of the command.
<br><br>
The output of the command can be stored in a string and returned
    through the optional output argument.
<br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</td></tr>
		<tr><td id="docfooter">
			Page was generated with
			<img src="candydoc/img/candydoc.gif" style="vertical-align:middle; position:relative; top:-1px">
			on Wed Mar  3 11:40:10 2010

		</td></tr>
	</table>
</div>
<script>
	explorer.packageExplorer.addModule("ltk.array");
	explorer.packageExplorer.addModule("ltk.filelock");
	explorer.packageExplorer.addModule("ltk.util");</script>
</body></html>


